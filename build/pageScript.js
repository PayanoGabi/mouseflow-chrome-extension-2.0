!function(e){var o={};function t(n){if(o[n])return o[n].exports;var s=o[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,t),s.l=!0,s.exports}t.m=e,t.c=o,t.d=function(e,o,n){t.o(e,o)||Object.defineProperty(e,o,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,o){if(1&o&&(e=t(e)),8&o)return e;if(4&o&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&o&&"string"!=typeof e)for(var s in e)t.d(n,s,function(o){return e[o]}.bind(null,s));return n},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},t.p="",t(t.s=22)}({1:function(e,o,t){"use strict";var n;Object.defineProperty(o,"__esModule",{value:!0}),o.MouseflowEventType=void 0,function(e){e.FETCH_DIAGNOSTICS="FETCH_DIAGNOSTICS",e.RECEIVE_DIAGNOSTICS="RECEIVE_DIAGNOSTICS",e.START_SESSION="START_SESSION",e.STOP_SESSION="STOP_SESSION",e.RESET_SESSION="RESET_SESSION"}(o.MouseflowEventType||(o.MouseflowEventType={})),function(e){e.Radio="radio",e.Checkbox="checkbox",e.Text="text",e.TextArea="textarea",e.NPS="nps",e.Success="success"}(n||(n={}))},22:function(e,o,t){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(o,"__esModule",{value:!0});const s=n(t(23)),i=t(1);!function(){var e,o,t;const n=function(){var e;null===(e=window.mouseflow)||void 0===e||e.stopSession()},a=function(){var e,o,t,n,s;return{installations:l(),isInstantiated:!!window.mouseflow,version:null===(e=window.mouseflow)||void 0===e?void 0:e.version,isRecording:null===(o=window.mouseflow)||void 0===o?void 0:o.isRecording(),recordingRate:null===(t=window.mouseflow)||void 0===t?void 0:t.recordingRate,websiteId:null===(n=window.mouseflow)||void 0===n?void 0:n.websiteId,sessionId:null===(s=window.mouseflow)||void 0===s?void 0:s.getSessionId(),cookies:u(),globals:r(),duplicateIds:c(),HTMLErrors:d(),shadowRoots:f(),clickableElements:w()}},r=function(){return{mouseflowPath:window.mouseflowPath,mouseflowAutoStart:window.mouseflowAutoStart,mouseflowDisableKeyLogging:window.mouseflowDisableKeyLogging,mouseflowExcludeSubDomains:window.mouseflowExcludeSubDomains,mouseflowCrossDomainSupport:window.mouseflowCrossDomainSupport,mouseflowHref:window.mouseflowHref,mouseflowRegisterSubmitTimeout:window.mouseflowRegisterSubmitTimeout,mouseflowDisableDomDeduplicator:window.mouseflowDisableDomDeduplicator,mouseflowAutoTagging:window.mouseflowAutoTagging,mouseflowDisableDomReuse:window.mouseflowDisableDomReuse,mouseflowHtmlDelay:window.mouseflowHtmlDelay,mouseflowForceGdpr:window.mouseflowForceGdpr,mouseflowSessionId:window.mouseflowSessionId,mouseflowCompress:window.mouseflowCompress,mouseflowDebug:window.mouseflowDebug,mouseflowUseCssPaths:window.mouseflowUseCssPaths,mouseflowDisableCssPaths:window.mouseflowDisableCssPaths,mouseflowHtmlFetchMode:window.mouseflowHtmlFetchMode}},u=function(){var e;return{mfUser:s.default.get("mf_user"),mfSession:s.default.get("mf_"+(null===(e=window.mouseflow)||void 0===e?void 0:e.websiteId))}},l=function(){const e=[],o=/^https:\/\/cdn\.mouseflow\.com\/projects\/(.*).js$/;return document.querySelectorAll("script").forEach(t=>{const n=o.exec(t.src);null!==n&&e.push(n[1])}),e},c=function(){const e=document.querySelectorAll("[id]"),o=Array.from(e).map(e=>e.id);var t;return[...new Set((t=o).filter((e,o)=>t.indexOf(e)!=o))]},d=function(){const e=[];return document.querySelectorAll("a a").length&&e.push("Nested clickable elements detected."),e},f=function(e){const o=e||document.body,t=[];return o.querySelectorAll("*").forEach(e=>{var o;if(null===(o=e.shadowRoot)||void 0===o?void 0:o.children)for(const o of Array.from(e.shadowRoot.children))t.push(o)}),t.length},w=function(){const e=[],o=document.querySelectorAll('[class~="btn"], [data-target]'),t=["A","BUTTON","INPUT"];return o.forEach(o=>{t.includes(o.tagName)||e.push(o)}),e.length},p=function(e,o="report.csv"){let t="",n=0;const s=Object.keys(e[0]).map(e=>e);t+=s.join(","),t+="\n",e.forEach(e=>{n=0,s.forEach(o=>{n>0&&(t+=","),t+=`"${encodeURIComponent(e[o])}"`,n+=1}),t+="\n"}),t="data:text/csv;charset=utf-8,"+t;const i=document.createElement("a");i.setAttribute("href",t),i.setAttribute("download",o),i.click()};window.mouseflowDebug=!0,console.log("%cMouseflow Support Extension: Enabled Mouseflow debugging mode","color: #47b475"),null===(e=document.getElementById("download-website-list"))||void 0===e||e.addEventListener("click",(function(){const e=[];$.ajax(`https://${window.location.host}/api/websites`).then(o=>{o.forEach(o=>{e.push({"Website Name":o.name,"Website ID":o.id,"Recording Status":o.recordingStatus,"Installation Status":o.installationStatus,"Created At":o.created})}),p(e,"websiteList.csv")})})),null===(o=document.getElementById("download-usage-report"))||void 0===o||o.addEventListener("click",(function(){const e=[],o=new URLSearchParams(window.location.search),t=o.get("fromdate"),n=o.get("todate"),s=new URLSearchParams;t&&s.append("fromdate",t),n&&s.append("todate",n),$.ajax(`https://${window.location.host}/api/websites`).then(o=>{$.when(...o.map(e=>$.ajax(`https://${window.location.host}/api/websites/${e.id}/stats?${s.toString()}`).then(o=>{e.stats=o}))).then(()=>{for(let t=0;t<o.length;t++){const n=o[t];if(!n.stats)return;const s=Object.keys(n.stats.sessionChart);for(let o=0;o<s.length;o++){const t=new Date(s[o]);e.push({Website:n.name,"Website ID":n.id,Date:`${t.getMonth()+1}-${t.getDate()}-${t.getFullYear()}`,"Number of Sessions":n.stats.sessionChart[s[o]]})}}p(e,"usageReport.csv")})})})),null===(t=document.getElementById("download-feedback-responses"))||void 0===t||t.addEventListener("click",(function(e){e.preventDefault();const o=[],t=window.location.pathname.match(/\/websites\/(.{36})\/feedback\/(.{22})/),n=new URLSearchParams(window.location.search),s=n.get("fromdate"),i=n.get("todate"),a=new URLSearchParams;if(s&&a.append("fromdate",s),i&&a.append("todate",i),!t)throw new Error("Unable to download Feedback Responses. No Feedback ID found");const[,r,u]=t;$.ajax(`https://${window.location.host}/api/websites/${r}/feedback/${u}?limit=50`).then(e=>{const t=e.steps,n=e.report.responses,s=[];let i=0;for(let e=0;e<n/1e3;e++)s.push($.ajax(`https://${window.location.host}/api/websites/${r}/feedback/${u}?limit=1000&offset=${i}`).then(e=>{e.report.replies.forEach(e=>{const n={"Recording ID":e.sessionId,Submitted:e.created,Country:e.country,Region:e.region,City:e.city,Language:e.lang,IP:e.ip,ISP:e.isp,Page:e.websitePage,URL:e.url,Tags:e.tags.join(","),Variables:e.variables.join(","),"Playback URL":`https://${window.location.host}/websites/${r}/recordings/${e.sessionId}/pageviews/${e.pageId}/play`};t.forEach(o=>{const t=e.steps.find(e=>e.stepId===o.stepId),s=`"${o.text}"`;if(void 0===t)return Object.assign(n,{[s]:""});switch(o.type){case"radio":Object.assign(n,{[s]:t.answerValues.map(e=>{const t=o.answers.find(o=>o.answerId===e);if(void 0===t)throw new Error("Unable to find answer with id "+e);return t.value}).join(",")});break;case"checkbox":Object.assign(n,{[s]:t.answerValues.map(e=>{const t=o.answers.find(o=>o.answerId===e);if(void 0===t)throw new Error("Unable to find answer with id "+e);return t.value}).join(",")});break;case"text":Object.assign(n,{[s]:t.answerValues.join(",")});break;case"textarea":Object.assign(n,{[s]:t.answerValues.join(",")});break;case"nps":Object.assign(n,{[s]:t.answerValues.join(",")})}}),o.push(n)})})),i+=1e3;$.when(...s).then(()=>{p(o,"feedbackReport.csv")})})})),document.addEventListener("mouseflow",(function(e){const o=new CustomEvent("mouseflow",{detail:{}});switch(e.detail.type){case i.MouseflowEventType.FETCH_DIAGNOSTICS:Object.assign(o.detail,{type:i.MouseflowEventType.RECEIVE_DIAGNOSTICS,payload:a()}),document.dispatchEvent(o);break;case i.MouseflowEventType.STOP_SESSION:n(),Object.assign(o.detail,{type:i.MouseflowEventType.RECEIVE_DIAGNOSTICS,payload:a()}),document.dispatchEvent(o);break;case i.MouseflowEventType.START_SESSION:!function(){var e;null===(e=window.mouseflow)||void 0===e||e.start()}(),Object.assign(o.detail,{type:i.MouseflowEventType.RECEIVE_DIAGNOSTICS,payload:a()}),document.dispatchEvent(o);break;case i.MouseflowEventType.RESET_SESSION:t=e.detail.payload,n(),s.default.remove("mf_"+t),s.default.remove("mf_user",{domain:"."+location.hostname.split(".").reverse()[1]+"."+location.hostname.split(".").reverse()[0]}),window.location.reload(),Object.assign(o.detail,{type:i.MouseflowEventType.RECEIVE_DIAGNOSTICS,payload:a()}),document.dispatchEvent(o)}var t}))}()},23:function(e,o,t){var n,s;
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(i){if(void 0===(s="function"==typeof(n=i)?n.call(o,t,o,e):n)||(e.exports=s),!0,e.exports=i(),!!0){var a=window.Cookies,r=window.Cookies=i();r.noConflict=function(){return window.Cookies=a,r}}}((function(){function e(){for(var e=0,o={};e<arguments.length;e++){var t=arguments[e];for(var n in t)o[n]=t[n]}return o}function o(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function t(n){function s(){}function i(o,t,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},s.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var a=JSON.stringify(t);/^[\{\[]/.test(a)&&(t=a)}catch(e){}t=n.write?n.write(t,o):encodeURIComponent(String(t)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),o=encodeURIComponent(String(o)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var r="";for(var u in i)i[u]&&(r+="; "+u,!0!==i[u]&&(r+="="+i[u].split(";")[0]));return document.cookie=o+"="+t+r}}function a(e,t){if("undefined"!=typeof document){for(var s={},i=document.cookie?document.cookie.split("; "):[],a=0;a<i.length;a++){var r=i[a].split("="),u=r.slice(1).join("=");t||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var l=o(r[0]);if(u=(n.read||n)(u,l)||o(u),t)try{u=JSON.parse(u)}catch(e){}if(s[l]=u,e===l)break}catch(e){}}return e?s[e]:s}}return s.set=i,s.get=function(e){return a(e,!1)},s.getJSON=function(e){return a(e,!0)},s.remove=function(o,t){i(o,"",e(t,{expires:-1}))},s.defaults={},s.withConverter=t,s}((function(){}))}))}});